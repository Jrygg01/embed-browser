# Custom Embed Browser

## Goals & Overall Idea

This project is built using Next.js to demonstrate a custom embedding framework within a browser-based application. The main goals include:
- Embedding dynamic content seamlessly into web pages.
- Providing developers with flexible APIs for managing embedded views.
- Optimizing the user experience with efficient rendering and easy customization.

## Technical Details

- **Framework:** Next.js (bootstrapped with create-next-app)
- **Runtime:** Node.js
- **Styling:** Tailwind CSS and Next Fonts for optimal loading of custom fonts (e.g., Geist)
- **Database:** MongoDB for storing and tracking embed data with seamless integration via API routes.
- **Deployment:** Designed to be deployed on Vercel for effortless scaling and performance.

## Getting Started

```bash
npm run dev # **
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

## Learn More

To learn more about Next.js and the inner workings of this custom embed project, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) – Learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) – An interactive Next.js tutorial.
- [MongoDB Documentation](https://docs.mongodb.com) – Learn how the database integration is managed.
- [Tailwind CSS](https://tailwindcss.com) – For styling and responsive design guides.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) for more details, and feel free to explore the code for technical insights into embedding content and database connections.

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.

## Environment Variables

To run this project locally, create a `.env.local` file in the root of the project and set the following variables:

- `MONGO_URI`: The connection string for your MongoDB instance. (Required)
- `MONGO_DB_NAME`: The MongoDB database name (defaults to `CustomSearch` if not set).
- `GOOGLE_CUSTOM_SEARCH_API_KEY`: Your Google Custom Search API key. (Required for search functionality)
- `GOOGLE_CUSTOM_SEARCH_CX_ID`: Your Google Custom Search Engine ID. (Required for search functionality)

## Project Structure & In-Depth Technical Details

Below is an overview of the project’s structure and a detailed explanation of how key files function:

- **`app/` Directory:**
  - Contains client-side page components and layouts.  
  - For example, `app/page.tsx` is the entry point for the main content view. This file defines the primary rendering logic for the homepage and integrates dynamic embed components.

- **`pages/` Directory:**
  - Houses API routes and dynamic pages.
  - **API Routes:**  
    - `pages/api/track-data/[userID].js` handles tracking of user interactions. It processes incoming requests, communicates with MongoDB via the helper file in `lib/mongodb.js`, and returns JSON responses.
  - **Dynamic Routing:**  
    - `pages/[userID]/index.js` implements user-specific pages. It utilizes Next.js dynamic routing to load content based on the user ID and manages UI state (e.g., showing or hiding the embedded browser).

- **`lib/mongodb.js`:**
  - Manages connection to MongoDB.  
  - Implements connection caching across hot reloads in development to prevent excessive new connections and ensure performance.

- **`.next/` Directory:**
  - Contains build artifacts generated by Next.js.  
  - Includes manifests (like `app-build-manifest.json` and `build-manifest.json`) which map pages to compiled JavaScript files.
  - Provides internal caching and HMR (Hot Module Replacement) scripts that drive the development experience.

- **Styling & Assets:**
  - Global CSS files (e.g., within `styles/globals.css`) are processed by PostCSS and Tailwind CSS, ensuring responsive design and consistent theming.
  - Custom fonts are loaded using Next Fonts integration.

- **TypeScript & Configuration:**
  - The file `next-env.d.ts` sets up TypeScript types tailored for Next.js, ensuring type safety.
  - Additional configuration files (such as `next.config.js`, if present) configure Webpack and other build options to support custom embedding functionality.

- **How It All Works Together:**
  - The client-side components in `app/` render interactive interfaces that communicate with dynamic API endpoints in `pages/api/`.
  - API routes process data (such as user tracking) and connect to the MongoDB database using the helper logic defined in `lib/mongodb.js`.
  - Build outputs in `.next/` ensure efficient server-side and static rendering, while HMR and caching mechanisms maintain a fast development cycle.
  - The project is structured to make extending embed functionality straightforward—adding new embed components, API endpoints, or dynamic pages can be done in their respective directories while leveraging the centralized configuration and database connectivity.
